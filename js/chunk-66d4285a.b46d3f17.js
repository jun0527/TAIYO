(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-66d4285a"],{"0d5f":function(t,e,a){"use strict";a.r(e);var n=a("7a23"),i=a("b769"),c=a.n(i),s=a("2d7d"),o=a.n(s),r=a("547f"),l=a.n(r),u=a("6b0e"),p=a.n(u),d={class:"cityPage"},g={class:"banner position-relative"},f=Object(n["e"])("div",{class:"maskArea w-100 h-100 position-absolute top-0 left-0"},null,-1),h={class:"bannerContent container h-100 d-flex flex-column justify-content-between justify-content-sm-center position-relative"},b={class:"fs-3 fs-sm-1 text-white fw-bold mb-15"},j={class:"d-block d-md-inline fs-9 fs-sm-5 fw-normal ms-md-10"},m={class:"w-100 list-unstyled d-flex justify-content-between justify-content-sm-start"},v={class:"typeBtnArea me-7 me-sm-10"},O={class:"typeBtnArea me-7 me-sm-10"},x={class:"typeBtnArea"},y={class:"cityResultListArea"},w={class:"container"},D={class:"d-flex align-items-end mb-20"},k={class:"d-none d-sm-block fs-2 text-primary me-12"},C=Object(n["e"])("p",{class:"text-gray-light fw-500 mb-2"},"共 30 個景點",-1),N={class:"list-unstyled d-flex flex-wrap"},A=["onClick"],P={class:"w-100 ratio ratio-285x176 overflow-hidden"},E=["src"],I={key:1,class:"noPicture d-flex flex-column justify-content-center align-items-center"},R=Object(n["e"])("span",{class:"material-icons fs-1"}," image_not_supported ",-1),S=Object(n["e"])("p",{class:"fs-4 fw-bold"},"未提供圖片",-1),G=[R,S],T={class:"card-body d-flex flex-column justify-content-between"},$={class:"card-title fs-7 text-dark mb-1"},B={class:"fs-10 text-gray-light mb-9"},_={class:"d-flex align-items-center"},U=Object(n["e"])("img",{class:"icon me-2",src:c.a,alt:"城市icon"},null,-1),M={class:"fs-9 text-gray-light"},J={class:"otherCityArea"},V={class:"container"},Y=Object(n["e"])("h2",{class:"fs-7 fs-sm-3 text-primary mb-7 mb-sm-10"},"熱門城市遊",-1),K={ref:"otherCitySwiper",class:"otherCitySwiper swiper"},q={class:"swiper-wrapper mb-5"},L={class:"swiper-slide"},z=Object(n["e"])("div",{class:"w-100 ratio ratio-122x150 ratio-md-387x240"},[Object(n["e"])("img",{class:"object-fit-cover",src:o.a,alt:"台東圖示"})],-1),F=Object(n["e"])("div",{class:"maskArea w-100 h-100 position-absolute top-0"},null,-1),H=Object(n["e"])("h3",{class:"fs-8 fs-md-3 text-white fw-500 position-absolute"},"臺東縣",-1),Q=[z,F,H],W={class:"swiper-slide"},X=Object(n["e"])("div",{class:"w-100 ratio ratio-122x150 ratio-md-387x240"},[Object(n["e"])("img",{class:"object-fit-cover",src:l.a,alt:"嘉義圖示"})],-1),Z=Object(n["e"])("div",{class:"maskArea w-100 h-100 position-absolute top-0"},null,-1),tt=Object(n["e"])("h3",{class:"fs-8 fs-md-3 text-white fw-500 position-absolute"},"嘉義市",-1),et=[X,Z,tt],at={class:"swiper-slide"},nt=Object(n["e"])("div",{class:"w-100 ratio ratio-122x150 ratio-md-387x240"},[Object(n["e"])("img",{class:"object-fit-cover",src:p.a,alt:"台北圖示"})],-1),it=Object(n["e"])("div",{class:"maskArea w-100 h-100 position-absolute top-0"},null,-1),ct=Object(n["e"])("h3",{class:"fs-8 fs-md-3 text-white fw-500 position-absolute"},"臺北市",-1),st=[nt,it,ct];function ot(t,e,a,i,c,s){var o=Object(n["y"])("pagination");return Object(n["r"])(),Object(n["d"])("main",d,[Object(n["e"])("section",g,[f,Object(n["e"])("div",h,[Object(n["e"])("h2",b,[Object(n["g"])(Object(n["A"])(c.cityName)+" ",1),Object(n["e"])("span",j,Object(n["A"])(c.cityNameEn)+" City",1)]),Object(n["e"])("ul",m,[Object(n["e"])("li",v,[Object(n["e"])("button",{class:Object(n["n"])(["typeBtn btn btn-outline-white w-100 fs-8 fs-sm-6 fw-500 py-5",{active:"ScenicSpot"===c.type}]),onClick:e[0]||(e[0]=function(t){return s.changeType("ScenicSpot")})},"遊景點",2)]),Object(n["e"])("li",O,[Object(n["e"])("button",{class:Object(n["n"])(["typeBtn btn btn-outline-white w-100 fs-8 fs-sm-6 fw-500 py-5",{active:"Restaurant"===c.type}]),onClick:e[1]||(e[1]=function(t){return s.changeType("Restaurant")})},"吃美食",2)]),Object(n["e"])("li",x,[Object(n["e"])("button",{class:Object(n["n"])(["typeBtn btn btn-outline-white w-100 fs-8 fs-sm-6 fw-500 py-5",{active:"Activity"===c.type}]),onClick:e[2]||(e[2]=function(t){return s.changeType("Activity")})},"玩活動",2)])])])]),Object(n["e"])("section",y,[Object(n["e"])("div",w,[Object(n["e"])("div",D,[Object(n["e"])("h2",k,"遊遍"+Object(n["A"])(c.cityName)+"景點",1),C]),Object(n["e"])("ul",N,[(Object(n["r"])(!0),Object(n["d"])(n["a"],null,Object(n["x"])(c.data,(function(t){return Object(n["r"])(),Object(n["d"])("li",{class:"cityResult",key:t.ID},[Object(n["e"])("a",{href:"javascript:;",class:"card w-100 h-100 overflow-hidden enlarge-hover rounded-2 shadow",onClick:function(e){return s.toDetailedPage(t.ID)}},[Object(n["e"])("div",P,[void 0!==t.Picture.PictureUrl1?(Object(n["r"])(),Object(n["d"])("img",{key:0,class:"object-fit-cover",src:t.Picture.PictureUrl1,alt:"item.Picture.PictureDescription1"},null,8,E)):(Object(n["r"])(),Object(n["d"])("div",I,G))]),Object(n["e"])("div",T,[Object(n["e"])("div",null,[Object(n["e"])("h3",$,Object(n["A"])(t.Name),1),Object(n["e"])("p",B," 景點 ｜"+Object(n["A"])(void 0===t.TicketInfo?"未提供售價":t.TicketInfo),1)]),Object(n["e"])("div",_,[U,Object(n["e"])("p",M,Object(n["A"])(t.City),1)])])],8,A)])})),128))])]),Object(n["h"])(o,{ref:"pagination",onGetData:s.getData,onGetAllData:s.getAllData,"all-data-num":c.allDataNum},null,8,["onGetData","onGetAllData","all-data-num"])]),Object(n["e"])("section",J,[Object(n["e"])("div",V,[Y,Object(n["e"])("div",K,[Object(n["e"])("div",q,[Object(n["e"])("div",L,[Object(n["e"])("a",{href:"javascript:;",onClick:e[3]||(e[3]=function(t){return s.toCity("Taitung County","台東縣")}),class:"card position-relative overflow-hidden enlarge-hover rounded-2 shadow"},Q)]),Object(n["e"])("div",W,[Object(n["e"])("a",{href:"javascript:;",onClick:e[4]||(e[4]=function(t){return s.toCity("Chiayi","嘉義市")}),class:"card position-relative overflow-hidden enlarge-hover rounded-2 shadow"},et)]),Object(n["e"])("div",at,[Object(n["e"])("a",{href:"javascript:;",onClick:e[5]||(e[5]=function(t){return s.toCity("Taipei","台北市")}),class:"card position-relative overflow-hidden enlarge-hover rounded-2 shadow"},st)])])],512)])])])}a("a15b"),a("ac1f"),a("1276"),a("99af");var rt=a("4da1"),lt=a("7dd4"),ut={class:"pagination d-flex justify-content-center"},pt=Object(n["e"])("span",{class:"material-icons d-block"}," first_page ",-1),dt=[pt],gt=Object(n["e"])("span",{class:"material-icons"}," chevron_left ",-1),ft=[gt],ht=["onClick"],bt=Object(n["e"])("span",{class:"material-icons d-block"}," chevron_right ",-1),jt=[bt],mt=Object(n["e"])("span",{class:"material-icons d-block"}," last_page ",-1),vt=[mt];function Ot(t,e,a,i,c,s){return Object(n["r"])(),Object(n["d"])("ul",ut,[Object(n["e"])("li",null,[Object(n["e"])("a",{class:Object(n["n"])(["d-flex justify-content-center align-items-center",{disabled:1===c.paginationData.current}]),href:"javascript:;",onClick:e[0]||(e[0]=function(t){return s.getData(1)})},dt,2)]),Object(n["e"])("li",null,[Object(n["e"])("a",{class:Object(n["n"])(["d-flex justify-content-center align-items-center",{disabled:1===c.paginationData.current}]),href:"javascript:;",onClick:e[1]||(e[1]=function(t){return s.getData(c.paginationData.current-1)})},ft,2)]),Object(n["e"])("li",{class:Object(n["n"])({"d-none":!c.paginationData.omitBefore})},"...",2),(Object(n["r"])(!0),Object(n["d"])(n["a"],null,Object(n["x"])(c.paginationData.showPage,(function(t){return Object(n["r"])(),Object(n["d"])("li",{key:"".concat(t+4*(c.paginationData.pageGroup-1))},[Object(n["e"])("a",{class:Object(n["n"])(["d-flex justify-content-center align-items-center",{active:t+4*(c.paginationData.pageGroup-1)===c.paginationData.current}]),href:"javascript:;",onClick:function(e){return s.getData(t+4*(c.paginationData.pageGroup-1))}},Object(n["A"])(t+4*(c.paginationData.pageGroup-1)),11,ht)])})),128)),Object(n["e"])("li",{class:Object(n["n"])({"d-none":!c.paginationData.omitAfter})},"...",2),Object(n["e"])("li",null,[Object(n["e"])("a",{class:Object(n["n"])(["d-flex justify-content-center align-items-center",{disabled:c.paginationData.current===c.paginationData.pagesNum}]),href:"javascript:;",onClick:e[2]||(e[2]=function(t){return s.getData(c.paginationData.current+1)})},jt,2)]),Object(n["e"])("li",null,[Object(n["e"])("a",{class:Object(n["n"])(["d-flex justify-content-center align-items-center",{disabled:c.paginationData.current===c.paginationData.pagesNum}]),onClick:e[3]||(e[3]=function(t){return s.getData(c.paginationData.pagesNum)}),href:"javascript:;"},vt,2)])])}var xt={data:function(){return{paginationData:{pagesNum:1,current:1,pre:!1,next:!1,showPage:4,pageGroup:1,maxPageGroup:1,omitBefore:!1,omitAfter:!1}}},props:["allDataNum"],emits:["get-data","get-all-data"],methods:{getData:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.$emit("get-data",t),this.getPagination(t)},getPagination:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(console.log(this.allDataNum),this.paginationData.pagesNum=Math.ceil(this.allDataNum/30),this.paginationData.current=t,this.paginationData.showPage=this.paginationData.pagesNum<4?this.paginationData.pagesNum:4,this.paginationData.pageGroup=Math.ceil(t/4),this.paginationData.maxPageGroup=Math.ceil(this.paginationData.pagesNum/4),this.paginationData.pre=1!==this.paginationData.current,this.paginationData.next=this.paginationData.current<this.paginationData.pagesNum,t>this.paginationData.showPage?this.paginationData.omitBefore=!0:t<=this.paginationData.showPage&&(this.paginationData.omitBefore=!1),this.paginationData.maxPageGroup!==this.paginationData.pageGroup?this.paginationData.omitAfter=!0:this.paginationData.maxPageGroup===this.paginationData.pageGroup&&(this.paginationData.omitAfter=!1),this.paginationData.pagesNum%this.paginationData.showPage!==0){switch(this.paginationData.pageGroup){case this.paginationData.maxPageGroup:this.paginationData.showPage=this.paginationData.pagesNum%this.paginationData.showPage;break;default:break}console.log(this.paginationData.pagesNum%this.paginationData.showPage)}}}},yt=a("6b0d"),wt=a.n(yt);const Dt=wt()(xt,[["render",Ot]]);var kt=Dt;rt["b"].use([rt["a"]]);var Ct={data:function(){return{cityData:[],type:"ScenicSpot",cityName:this.$route.query.cityName,cityNameEn:this.$route.params.city,data:[],allData:[],allDataNum:0,otherCitySwiper:[]}},components:{pagination:kt},methods:{getCityData:function(){var t=this;this.$http.get("https://gist.motc.gov.tw/gist_api/V3/Map/Basic/City?$format=JSON",Object(lt["a"])()).then((function(e){console.log(e.data),t.cityData=e.data})).catch((function(t){console.dir(t)}))},getData:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;console.log(e);var a=30*(e-1),n=this.cityNameEn.split(" ").join("");this.$http.get("https://ptx.transportdata.tw/MOTC/v2/Tourism/".concat(this.type,"/").concat(n,"?$top=30&$skip=").concat(a,"&$format=JSON"),Object(lt["a"])()).then((function(a){console.log(a),t.data=a.data,t.$refs.pagination.getPagination(e)})).catch((function(t){console.dir(t)}))},getAllData:function(){var t=this,e=this.cityNameEn.split(" ").join("");this.$http.get("https://ptx.transportdata.tw/MOTC/v2/Tourism/".concat(this.type,"/").concat(e,"?$format=JSON"),Object(lt["a"])()).then((function(e){t.allData=e.data,t.allDataNum=e.data.length,t.getData()})).catch((function(t){console.dir(t)}))},changeType:function(t){this.type=t,this.getAllData()},renderSwiper:function(){this.otherCitySwiper=new rt["b"](this.$refs.otherCitySwiper,{slidesPerView:2.5,spaceBetween:11,breakpoints:{768:{slidesPerView:3,spaceBetween:20}}})},toDetailedPage:function(t){this.$router.push("/detailed/".concat(t))},toCity:function(t,e){console.log(this.$router,t),this.$router.push("/city/".concat(t,"?cityName=").concat(e))}},mounted:function(){this.getCityData(),this.getAllData(),this.renderSwiper()}};const Nt=wt()(Ct,[["render",ot]]);e["default"]=Nt},"107c":function(t,e,a){var n=a("d039"),i=a("da84"),c=i.RegExp;t.exports=n((function(){var t=c("(?<a>b)","g");return"b"!==t.exec("b").groups.a||"bc"!=="b".replace(t,"$<a>c")}))},1276:function(t,e,a){"use strict";var n=a("2ba4"),i=a("c65b"),c=a("e330"),s=a("d784"),o=a("44e7"),r=a("825a"),l=a("1d80"),u=a("4840"),p=a("8aa5"),d=a("50c4"),g=a("577e"),f=a("dc4a"),h=a("f36a"),b=a("14c3"),j=a("9263"),m=a("9f7f"),v=a("d039"),O=m.UNSUPPORTED_Y,x=4294967295,y=Math.min,w=[].push,D=c(/./.exec),k=c(w),C=c("".slice),N=!v((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var a="ab".split(t);return 2!==a.length||"a"!==a[0]||"b"!==a[1]}));s("split",(function(t,e,a){var c;return c="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,a){var c=g(l(this)),s=void 0===a?x:a>>>0;if(0===s)return[];if(void 0===t)return[c];if(!o(t))return i(e,c,t,s);var r,u,p,d=[],f=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),b=0,m=new RegExp(t.source,f+"g");while(r=i(j,m,c)){if(u=m.lastIndex,u>b&&(k(d,C(c,b,r.index)),r.length>1&&r.index<c.length&&n(w,d,h(r,1)),p=r[0].length,b=u,d.length>=s))break;m.lastIndex===r.index&&m.lastIndex++}return b===c.length?!p&&D(m,"")||k(d,""):k(d,C(c,b)),d.length>s?h(d,0,s):d}:"0".split(void 0,0).length?function(t,a){return void 0===t&&0===a?[]:i(e,this,t,a)}:e,[function(e,a){var n=l(this),s=void 0==e?void 0:f(e,t);return s?i(s,e,n,a):i(c,g(n),e,a)},function(t,n){var i=r(this),s=g(t),o=a(c,i,s,n,c!==e);if(o.done)return o.value;var l=u(i,RegExp),f=i.unicode,h=(i.ignoreCase?"i":"")+(i.multiline?"m":"")+(i.unicode?"u":"")+(O?"g":"y"),j=new l(O?"^(?:"+i.source+")":i,h),m=void 0===n?x:n>>>0;if(0===m)return[];if(0===s.length)return null===b(j,s)?[s]:[];var v=0,w=0,D=[];while(w<s.length){j.lastIndex=O?0:w;var N,A=b(j,O?C(s,w):s);if(null===A||(N=y(d(j.lastIndex+(O?w:0)),s.length))===v)w=p(s,w,f);else{if(k(D,C(s,v,w)),D.length===m)return D;for(var P=1;P<=A.length-1;P++)if(k(D,A[P]),D.length===m)return D;w=v=N}}return k(D,C(s,v)),D}]}),!N,O)},"14c3":function(t,e,a){var n=a("da84"),i=a("c65b"),c=a("825a"),s=a("1626"),o=a("c6b6"),r=a("9263"),l=n.TypeError;t.exports=function(t,e){var a=t.exec;if(s(a)){var n=i(a,t,e);return null!==n&&c(n),n}if("RegExp"===o(t))return i(r,t,e);throw l("RegExp#exec called on incompatible receiver")}},"44e7":function(t,e,a){var n=a("861d"),i=a("c6b6"),c=a("b622"),s=c("match");t.exports=function(t){var e;return n(t)&&(void 0!==(e=t[s])?!!e:"RegExp"==i(t))}},"8aa5":function(t,e,a){"use strict";var n=a("6547").charAt;t.exports=function(t,e,a){return e+(a?n(t,e).length:1)}},9263:function(t,e,a){"use strict";var n=a("c65b"),i=a("e330"),c=a("577e"),s=a("ad6d"),o=a("9f7f"),r=a("5692"),l=a("7c73"),u=a("69f3").get,p=a("fce3"),d=a("107c"),g=r("native-string-replace",String.prototype.replace),f=RegExp.prototype.exec,h=f,b=i("".charAt),j=i("".indexOf),m=i("".replace),v=i("".slice),O=function(){var t=/a/,e=/b*/g;return n(f,t,"a"),n(f,e,"a"),0!==t.lastIndex||0!==e.lastIndex}(),x=o.UNSUPPORTED_Y||o.BROKEN_CARET,y=void 0!==/()??/.exec("")[1],w=O||y||x||p||d;w&&(h=function(t){var e,a,i,o,r,p,d,w=this,D=u(w),k=c(t),C=D.raw;if(C)return C.lastIndex=w.lastIndex,e=n(h,C,k),w.lastIndex=C.lastIndex,e;var N=D.groups,A=x&&w.sticky,P=n(s,w),E=w.source,I=0,R=k;if(A&&(P=m(P,"y",""),-1===j(P,"g")&&(P+="g"),R=v(k,w.lastIndex),w.lastIndex>0&&(!w.multiline||w.multiline&&"\n"!==b(k,w.lastIndex-1))&&(E="(?: "+E+")",R=" "+R,I++),a=new RegExp("^(?:"+E+")",P)),y&&(a=new RegExp("^"+E+"$(?!\\s)",P)),O&&(i=w.lastIndex),o=n(f,A?a:w,R),A?o?(o.input=v(o.input,I),o[0]=v(o[0],I),o.index=w.lastIndex,w.lastIndex+=o[0].length):w.lastIndex=0:O&&o&&(w.lastIndex=w.global?o.index+o[0].length:i),y&&o&&o.length>1&&n(g,o[0],a,(function(){for(r=1;r<arguments.length-2;r++)void 0===arguments[r]&&(o[r]=void 0)})),o&&N)for(o.groups=p=l(null),r=0;r<N.length;r++)d=N[r],p[d[0]]=o[d[1]];return o}),t.exports=h},"9f7f":function(t,e,a){var n=a("d039"),i=a("da84"),c=i.RegExp;e.UNSUPPORTED_Y=n((function(){var t=c("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),e.BROKEN_CARET=n((function(){var t=c("^r","gy");return t.lastIndex=2,null!=t.exec("str")}))},a15b:function(t,e,a){"use strict";var n=a("23e7"),i=a("e330"),c=a("44ad"),s=a("fc6a"),o=a("a640"),r=i([].join),l=c!=Object,u=o("join",",");n({target:"Array",proto:!0,forced:l||!u},{join:function(t){return r(s(this),void 0===t?",":t)}})},ac1f:function(t,e,a){"use strict";var n=a("23e7"),i=a("9263");n({target:"RegExp",proto:!0,forced:/./.exec!==i},{exec:i})},ad6d:function(t,e,a){"use strict";var n=a("825a");t.exports=function(){var t=n(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},d784:function(t,e,a){"use strict";a("ac1f");var n=a("e330"),i=a("6eeb"),c=a("9263"),s=a("d039"),o=a("b622"),r=a("9112"),l=o("species"),u=RegExp.prototype;t.exports=function(t,e,a,p){var d=o(t),g=!s((function(){var e={};return e[d]=function(){return 7},7!=""[t](e)})),f=g&&!s((function(){var e=!1,a=/a/;return"split"===t&&(a={},a.constructor={},a.constructor[l]=function(){return a},a.flags="",a[d]=/./[d]),a.exec=function(){return e=!0,null},a[d](""),!e}));if(!g||!f||a){var h=n(/./[d]),b=e(d,""[t],(function(t,e,a,i,s){var o=n(t),r=e.exec;return r===c||r===u.exec?g&&!s?{done:!0,value:h(e,a,i)}:{done:!0,value:o(a,e,i)}:{done:!1}}));i(String.prototype,t,b[0]),i(u,d,b[1])}p&&r(u[d],"sham",!0)}},fce3:function(t,e,a){var n=a("d039"),i=a("da84"),c=i.RegExp;t.exports=n((function(){var t=c(".","s");return!(t.dotAll&&t.exec("\n")&&"s"===t.flags)}))}}]);
//# sourceMappingURL=chunk-66d4285a.b46d3f17.js.map